//@version=4
study("MA Crossover Indicator")  
fastLength = 10
slowLength = 20
filterLength = 200

fastMA = sma(close, fastLength)
slowMA = sma(close, slowLength)
filterMA = sma(close, filterLength)

plot(fastMA, color=#2962FF)
plot(slowMA, color=#FF6347)
plot(filterMA, color=#777777)

uptrend = close > close[1]
downtrend = close < close[1]

buySignal = crossover(fastMA, slowMA) and uptrend and close > filterMA
sellSignal = crossunder(fastMA, slowMA) and downtrend and close < filterMA

plotshape(buySignal, style=shape.triangleup, location=location.belowbar, color=color.green, size=size.small)
plotshape(sellSignal, style=shape.triangledown, location=location.abovebar, color=color.red, size=size.small)
